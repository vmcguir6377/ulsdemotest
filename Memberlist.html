<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./css/style.css">
    <link rel="stylesheet" href="https://unpkg.com/devextreme@21.2-next/dist/css/dx.material.orange.dark.compact.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script type="text/javascript" src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/devextreme/21.1.6/js/dx.all.js"></script>
    <script src="./data.js"></script>
    <script src="./memberlist.js"></script>

    <!-- DevExtreme theme -->
    <link rel="stylesheet" href="https://cdn3.devexpress.com/jslib/21.2.3/css/dx.dark.css">

    <!-- DevExtreme library -->
    <script type="text/javascript" src="https://cdn3.devexpress.com/jslib/21.2.3/js/dx.all.js"></script>
    <title>DevExtreme/jQuery Demo</title>
</head>

  <body class="dx-viewport">

    <div class="demo-container">
      <div id="gridContainer"></div>
    </div>
   
    <div class="demo-container">
      <div id="list"></div>
     
      
          <span>üîçSearch  </span>
          <div id="searchMode"></div>
        </div>
      </div>
    </div>
    
    <div class="demo-container">
      <div class="list-container">
        <div id="simpleList"></div>
      </div>
    </div>
    
    <script>$(() => {
      const listWidget = $('#list').dxList({
        dataSource: products,
        height: 400,
        searchEnabled: true,
        searchExpr: 'Name',
        itemTemplate(data) {
          return $('<div>').text(data.Name);
        },
      }).dxList('instance');
      
    
      
      //change this to regular search bar************************
      $('#searchMode').dxSelectBox({
        dataSource: ['contains', 'startswith', 'equals'],
        value: 'contains',
        onValueChanged(data) {
          listWidget.option('searchMode', data.value);
        },
      }).dxSelectBox('instance');
    });
  
    $(() => {
      $('#simpleList').dxList({
        dataSource: companies,
        height: '100%',
        grouped: true,
        collapsibleGroups: false,
        groupTemplate(data) {
          return $(`<div> ${data.key}</div>`);
        },
      });
    });</script>

    <script>const companies = [{
      key: 'Company Name',
      items: ['Premier Buy, 123 Abc St', 'ElectrixMax', 'Video Emporium', 'Screen Shop', 'Braeburn', 'PriceCo', 'Ultimate Gadget', 'EZ Stop', 'Clicker',
    'Store of America', 'Zone Toys', 'ACME', 'Dental Implants Inc.', 'Flowers from Algernon', 'Prestige WW', 'Tambourines Express', 'Universal Remotes',
    'Discount Exorcisms' ],
     
    }];</script>
     <script>$(() => {
        let selectedRowIndex = -1;
        
      
        $('#action-add').dxSpeedDialAction({
          label: 'Add row',
          icon: 'add',
          index: 1,
          onClick() {
            grid.addRow();
            grid.deselectAll();
          },
        }).dxSpeedDialAction('instance');
      
        const deleteSDA = $('#action-remove').dxSpeedDialAction({
          icon: 'trash',
          label: 'Delete row',
          index: 2,
          visible: false,
          onClick() {
            grid.deleteRow(selectedRowIndex);
            grid.deselectAll();
          },
        }).dxSpeedDialAction('instance');
      
        const editSDA = $('#action-edit').dxSpeedDialAction({
          label: 'Edit row',
          icon: 'edit',
          index: 3,
          visible: false,
          onClick() {
            grid.editRow(selectedRowIndex);
            grid.deselectAll();
          },
        }).dxSpeedDialAction('instance');
      
        const grid = $('#grid').dxDataGrid({
          dataSource: employees,
          showBorders: true,
          keyExpr: 'ID',
          selection: {
            mode: 'single',
          },
          paging: {
            enabled: false,
          },
          editing: {
            mode: 'popup',
            texts: {
              confirmDeleteMessage: '',
            },
          },
          onSelectionChanged(e) {
            selectedRowIndex = e.component.getRowIndexByKey(e.selectedRowKeys[0]);
      
            deleteSDA.option('visible', selectedRowIndex !== -1);
            editSDA.option('visible', selectedRowIndex !== -1);
          },
          columns: [
            {
              dataField: 'Prefix',
              caption: 'Title',
            },
            'FirstName',
            'LastName',
            {
              dataField: 'Position',
              width: 130,
            }, {
              dataField: 'StateID',
              caption: 'State',
              width: 125,
              lookup: {
                dataSource: states,
                displayExpr: 'Name',
                valueExpr: 'ID',
              },
            }, {
              dataField: 'BirthDate',
              dataType: 'date',
              width: 125,
            },
          ],
        }).dxDataGrid('instance');
      
      
      });</script>
     
    </div>
  </body>
</html>
